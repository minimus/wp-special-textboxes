'use strict';(function(){function a(){var a=tinymce.activeEditor,b=a.settings.color_picker_callback;if(b)return function(){var c=this;b.call(a,function(a){return c.value(a).fire('change')},c.value())}}var b=stbEditorOptions.list;tinymce.PluginManager.requireLangPack('wstb'),tinymce.create('tinymce.plugins.wstb',{init:function init(c,d){this.editor=c;var e=c.getLang('wstb.title');c.addCommand('wstb',function(){var d=c.selection;d.isCollapsed()||c.windowManager.open({width:560,height:530,inline:1,title:c.getLang('wstb.title'),bodyType:'tabpanel',body:[{type:'form',name:'wstb_tab_general',title:c.getLang('wstb.basic_tab'),minWidth:558,items:[{type:'listbox',name:'wstb_id',label:c.getLang('wstb.box_id'),values:b},{type:'textbox',name:'wstb_caption',label:c.getLang('wstb.caption')},{type:'checkbox',name:'wstb_default_caption',text:c.getLang('wstb.default_caption'),checked:!1},{type:'label',name:'collapsing_label',text:c.getLang('wstb.block_collapsing')},{type:'listbox',name:'wstb_collapsing',values:[{text:c.getLang('wstb.default'),value:'default',selected:1},{text:c.getLang('wstb.yes'),value:'yes'},{text:c.getLang('wstb.no'),value:'no'}]},{type:'label',name:'collapsed_label',text:c.getLang('wstb.collapsed')},{type:'listbox',name:'wstb_collapsed',values:[{text:c.getLang('wstb.default'),value:'default',selected:1},{text:c.getLang('wstb.yes'),value:'yes'},{text:c.getLang('wstb.no'),value:'no'}]},{type:'label',name:'mode_label',text:c.getLang('wstb.drawing_mode')},{type:'listbox',name:'wstb_mode',values:[{text:c.getLang('wstb.default'),value:'default',selected:1},{text:'CSS',value:'css'},{text:'JavaScript',value:'js'}]},{type:'label',name:'dir_label',text:c.getLang('wstb.direction')},{type:'listbox',name:'wstb_dir',values:[{text:c.getLang('wstb.default'),value:'default',selected:1},{text:c.getLang('wstb.left_to_right'),value:'ltr'},{text:c.getLang('wstb.right_to_left'),value:'rtl'}]},{type:'label',name:'dir_label',text:c.getLang('wstb.shadow')},{type:'listbox',name:'wstb_shadow',values:[{text:c.getLang('wstb.default'),value:'default',selected:1},{text:c.getLang('wstb.enable'),value:'true'},{text:c.getLang('wstb.disable'),value:'false'}]}]},{type:'form',name:'wstb_tab_extended',title:c.getLang('wstb.extended_tab'),minWidth:558,items:[{type:'label',name:'image_label',text:c.getLang('wstb.image')},{type:'textbox',name:'wstb_image_url',label:c.getLang('wstb.image_url')},{type:'checkbox',name:'wstb_big_image',text:c.getLang('wstb.image_big'),checked:!1},{type:'checkbox',name:'wstb_noimage',text:c.getLang('wstb.image_no'),checked:!1},{type:'label',name:'margins_label',text:c.getLang('wstb.margins')},{type:'textbox',name:'wstb_top_margin',label:c.getLang('wstb.margin_top')},{type:'textbox',name:'wstb_right_margin',label:c.getLang('wstb.margin_right')},{type:'textbox',name:'wstb_bottom_margin',label:c.getLang('wstb.margin_bottom')},{type:'textbox',name:'wstb_left_margin',label:c.getLang('wstb.margin_left')},{type:'label',name:'floating_label',text:c.getLang('wstb.floating_mode_settings')},{type:'checkbox',name:'wstb_float',text:c.getLang('wstb.floating_mode'),checked:!1},{type:'listbox',name:'wstb_align',label:c.getLang('wstb.alignment'),values:[{text:c.getLang('wstb.left'),value:'left',selected:1},{text:c.getLang('wstb.right'),value:'right'}]},{type:'textbox',name:'wstb_width',label:c.getLang('wstb.box_width')}]},{type:'form',name:'wstb_tab_colors',title:c.getLang('wstb.colors'),minWidth:558,items:[{type:'label',name:'colors_label',text:c.getLang('wstb.colors')},{type:'colorbox',name:'wstb_fcolor',label:c.getLang('wstb.text'),onaction:a()},{type:'colorbox',name:'wstb_bgcolor',label:c.getLang('wstb.background'),onaction:a()},{type:'colorbox',name:'wstb_bgcolorto',label:c.getLang('wstb.stop'),onaction:a()},{type:'colorbox',name:'wstb_cfcolor',label:c.getLang('wstb.caption_text'),onaction:a()},{type:'colorbox',name:'wstb_cbgcolor',label:c.getLang('wstb.caption_background'),onaction:a()},{type:'colorbox',name:'wstb_cbgcolorto',label:c.getLang('wstb.caption_stop'),onaction:a()},{type:'label',name:'border_label',text:c.getLang('wstb.border')},{type:'colorbox',name:'wstb_bcolor',label:c.getLang('wstb.border_color'),onaction:a()},{type:'textbox',name:'wstb_bwidth',label:c.getLang('wstb.border_width'),tooltip:c.getLang('wstb.border_width')}]}],buttons:[{text:c.getLang('wstb.insert'),onclick:'submit'},{text:c.getLang('wstb.cancel'),onclick:'close'}],onsubmit:function onsubmit(a){var b=a.data.wstb_collapsed,d=a.data.wstb_collapsing,e=a.data.wstb_mode,f=a.data.wstb_dir,g=a.data.wstb_shadow,h=a.data.wstb_id,i=a.data.wstb_caption,j=a.data.wstb_default_caption,k=a.data.wstb_float,l=a.data.wstb_align,m=a.data.wstb_width,n=a.data.wstb_fcolor.replace('#',''),o=a.data.wstb_cfcolor.replace('#',''),p=a.data.wstb_bgcolor.replace('#',''),q=a.data.wstb_cbgcolor.replace('#',''),r=a.data.wstb_bgcolorto.replace('#',''),s=a.data.wstb_cbgcolorto.replace('#',''),t=a.data.wstb_bcolor.replace('#',''),u=a.data.wstb_bwidth,v=a.data.wstb_image_url,w=a.data.wstb_big_image,x=a.data.wstb_noimage,y=a.data.wstb_left_margin,z=a.data.wstb_right_margin,A=a.data.wstb_top_margin,B=a.data.wstb_bottom_margin,C='default'===d?0:'yes'===d?1:2,D='default'===b?0:'yes'===b?1:2,E='default'===g?0:'enabled'===g?1:2,F='';(''!==i||j)&&(F=j?' defcaption="true"':' caption=\''+i+'\'',1==C?F+=' collapsing="true"':2==C&&(F+=' collapsing="false"'),1==D&&2!=C?F+=' collapsed="true"':2==D&&(F+=' collapsed="false"'));var G='default'===e?'':' mode=\''+e+'\'',H='default'===f?'':' direction=\''+f+'\'',I='';1==E?I=' shadow="true"':2==E&&(I=' shadow="false"');var J='';k&&(J+=' float="true" align=\''+l+'\'',''!==m&&(J+=' width=\''+m+'\''));var K='';''!==u&&(K+=' bwidth=\''+u+'\''),''!==n&&(K+=' color=\''+n+'\''),''!==o&&(K+=' ccolor=\''+o+'\''),''!==t&&(K+=' bcolor=\''+t+'\''),''!==p&&(K+=' bgcolor=\''+p+'\''),''!==q&&(K+=' cbgcolor=\''+q+'\''),''!==r&&(K+=' bgcolorto=\''+r+'\''),''!==s&&(K+=' cbgcolorto=\''+s+'\'');var L='';''!==y&&(L+=' mleft=\''+y+'\''),''!==z&&(L+=' mright=\''+z+'\''),''!==A&&(L+=' mtop=\''+A+'\''),''!==B&&(L+=' mbottom=\''+B+'\'');var M='';''===v||x||(M+=' image=\''+v+'\''),w&&(M+=' big=\'true\''),x&&(M=' image=\'null\'');var N=''+F+G+H+I+J+K+M,O=c.selection.getContent();c.insertContent('[stextbox id=\''+h+'\''+N+']'+O+'[/stextbox]')}})}),c.addButton('wstb',{title:e,cmd:'wstb',image:d+'/img/wstb.png'}),c.on('NodeChange',function(){c.controlManager.setDisabled('wstb',c.selection.isCollapsed())})},getInfo:function getInfo(){return{longname:'Special Text Boxes',author:'minimus',authorurl:'http://blogcoding.ru',infourl:'http://www.simplelib.com',version:'5.1.88'}}}),tinymce.PluginManager.add('wstb',tinymce.plugins.wstb)})();

//# sourceMappingURL=wstb.editor.plugin.min.js.map