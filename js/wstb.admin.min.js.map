{"version":3,"sources":["../js-src/wstb.admin.js"],"names":[],"mappings":"aAAA,GAAM,KAAM,OAAZ,CAEA,CAAC,WAAa,CACZ,GAAI,EAAJ,CACM,EAAa,eAAe,KADlC,CAIA,IAAI,KAAJ,CAAY,EAAQ,CAClB,SAAU,yCADQ,CAGlB,KAAM,eAAY,CAChB,EAAE,KAAK,QAAP,EAAiB,EAAjB,CAAoB,OAApB,CAA6B,KAAK,eAAlC,CACD,CALiB,CAOlB,gBAAiB,2BAAa,CAC5B,EAAE,cAAF,EAD4B,CAG5B,GAAM,GAAS,IAAM,EAAE,MAAF,CAAS,EAAT,CAAY,OAAZ,CAAoB,SAApB,CAA+B,EAA/B,CAArB,CAH4B,MAKxB,MAAK,MALmB,KAM1B,MAAK,MAAL,CAAY,IAAZ,EAN0B,MAU5B,KAAK,MAAL,CAAc,EAAM,KAAN,CAAc,GAAG,KAAH,CAAS,CACnC,MAAO,EAAW,KADiB,CAEnC,OAAQ,CACN,KAAM,EAAW,MADX,CAF2B,CAKnC,WALmC,CAMnC,QAAS,CACP,KAAM,OADC,CAN0B,CAAT,CAVA,CAqB5B,KAAK,MAAL,CAAY,EAAZ,CAAe,OAAf,CAAwB,UAAY,CAEnC,CAFD,CArB4B,CAyB5B,KAAK,MAAL,CAAY,KAAZ,CAAkB,SAAlB,EAA6B,EAA7B,CAAgC,QAAhC,CAA0C,UAAY,CACpD,GAAM,GAAa,KAAK,GAAL,CAAS,WAAT,EAAsB,MAAtB,EAAnB,CACA,EAAM,qBAAN,KACD,CAHD,CAzB4B,CA8B5B,KAAK,MAAL,CAAY,IAAZ,EA9B4B,CA+B7B,CAtCiB,CAwClB,sBAAuB,mCAAgB,CACrC,GAAM,GAAa,EAAE,MAAF,EAAnB,CACA,KAAK,GAAL,CAAS,EAAW,GAApB,CACD,CA3CiB,CALR,CAmDZ,EAAE,QAAF,EAAY,KAAZ,CAAkB,UAAY,CAC5B,GAAM,GAAO,cAAb,CAEA,EAAM,IAAN,EAH4B,CAK5B,EAAE,OAAF,EAAW,IAAX,EAL4B,CAO5B,GAAI,CACF,EAAE,YAAF,EAAgB,gBAAhB,CAAiC,CAC/B,UAAW,CAAC,QAAD,CADoB,CAE/B,MAAO,EAAK,KAFmB,CAAjC,EAGG,EAHH,CAGM,CACJ,OAAQ,oBAAgB,CACtB,EAAE,IAAM,EAAE,MAAF,CAAS,EAAT,CAAY,OAAZ,CAAoB,SAApB,CAA+B,EAA/B,CAAR,EAA4C,GAA5C,CAAgD,EAAE,OAAF,CAAU,GAAV,CAAe,EAAf,CAAhD,CADsB,CAEtB,EAAE,IAAM,EAAE,MAAF,CAAS,EAAjB,EAAqB,IAArB,CAA0B,iCAAqC,SAArC,CAAiD,EAAE,OAAF,CAAU,GAAV,CAAe,EAAf,EAAmB,WAAnB,EAA3E,CACD,CAJG,CAHN,CASD,CAAC,QAAY,CAEb,CAED,QACD,CAtBD,CAuBD,CA1ED,EA0EG,MA1EH,C","file":"wstb.admin.min.js","sourcesContent":["const stb = stb || {};\n\n(function ($) {\n  let media;\n  const mediaTexts = stbUserOptions.media;\n\n  // WP Media\n  stb.media = media = {\n    buttonId: '#js_imgMinus-select, #js_imgPlus-select',\n\n    init: function () {\n      $(this.buttonId).on('click', this.openMediaDialog);\n    },\n\n    openMediaDialog: function (e) {\n      e.preventDefault();\n\n      const source = '#' + e.target.id.replace('-select', '');\n\n      if (this._frame) {\n        this._frame.open();\n        return;\n      }\n\n      this._frame = media.frame = wp.media({\n        title: mediaTexts.title,\n        button: {\n          text: mediaTexts.button\n        },\n        multiple: false,\n        library: {\n          type: 'image'\n        }\n      });\n\n      this._frame.on('ready', function () {\n        //\n      });\n\n      this._frame.state('library').on('select', function () {\n        const attachment = this.get('selection').single();\n        media.handleMediaAttachment(attachment, source);\n      });\n\n      this._frame.open();\n    },\n\n    handleMediaAttachment: function (a, s) {\n      const attachment = a.toJSON();\n      $(s).val(attachment.url);\n    }\n  };\n\n  $(document).ready(function () {\n    const opts = stbUserOptions;\n\n    media.init();\n\n    $(\"#tabs\").tabs();\n\n    try {\n      $('.color-btn').smallColorPicker({\n        placement: {popup: true},\n        texts: opts.texts\n      }).on({\n        scp_ok: function (p, c) {\n          $('#' + p.target.id.replace(\"-button\", '')).val(c.replace('#', ''));\n          $('#' + p.target.id).html('<b style=\"background-color: ' + c + ';\"></b>' + c.replace('#', '').toUpperCase());\n        }\n      });\n    } catch (err) {\n      // the browser is not supported\n    }\n\n    return false;\n  });\n})(jQuery);"]}