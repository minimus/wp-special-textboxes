'use strict';var stb=stb||{},mediaStrings=stbUserOptions.strings;(function(b){function a(a){return'string'==typeof a.radius&&(a.radius=parseInt(a.radius)),'string'==typeof a.imgX&&(a.imgX=parseInt(a.imgX)),'string'==typeof a.imgY&&(a.imgY=parseInt(a.imgY)),a}var c;stb.media=c={jsId:'#selJsImg',cssId:'#selCssImg',jsImgUrl:'#js_image',cssImgUrl:'#css_big_image',init:function init(){b(this.jsId).on('click',{mode:'js'},this.openMediaDialog),b(this.cssId).on('click',{mode:'css'},this.openMediaDialog)},openMediaDialog:function openMediaDialog(a){a.preventDefault();var b=a.data.mode;return this._frame?void this._frame.open():void(this._frame=c.frame=wp.media({title:mediaStrings.title,button:{text:mediaStrings.update},multiple:!1,library:{type:'image'}}),this._frame.on('ready',function(){}),this._frame.state('library').on('select',function(){var a=this.get('selection').single();c.handleMediaAttachment(a,b)}),this._frame.open())},handleMediaAttachment:function handleMediaAttachment(c,a){var d=c.toJSON();'js'===a?b(this.jsImgUrl).val(d.url):b(this.cssImgUrl).val(d.url)}},b(document).ready(function(){function d(a){return a.toggleClass('stb-hidden').toggleClass('stb-visible'),!1}var e=b('#style_slug').val(),f={image:b('#js_image').val(),color:'#'+b('#js_color').val(),colorTo:'#'+b('#js_color_to').val(),fontColor:'#'+b('#js_font_color').val(),border:{width:b('#js_border_width').val(),color:'#'+b('#js_border_color').val()},caption:{fontColor:'#'+b('#js_caption_font_color').val(),color:'#'+b('#js_caption_color').val(),colorTo:'#'+b('#js_caption_color_to').val()}},g=a(stbUserOptions.jsOptions),h=g.pickerOptions,i={direction:'vertical'};'Undefined'!==e&&b('#js_test, #js_test_cap').stb(f,g),c.init();var j=stbUserOptions.cssOptions;b('.stb-tool').on('click',function(){var a=b(this).attr('id').split('-'),c=a[2],e=b('#stb-container-'+c),f=b('#stb-body-box-'+c),g=b('#stb-toolimg-'+c);return e.hasClass('stb-visible')?(f.hide('blind',i,500,function(){return d(e)}),g.attr({src:j.imgShow,title:j.strShow})):(f.show('blind',i,500,function(){return d(e)}),g.attr({src:j.imgHide,title:j.strHide})),!1});try{b('.color-btn').smallColorPicker({placement:{popup:!0},texts:h.texts}).on({scp_ok:function scp_ok(a,d){b('#'+a.target.id.replace('-button','')).val(d.replace('#','')),b('#'+a.target.id).html('<b style="background-color: '+d+';"></b>'+d.replace('#','').toUpperCase())}})}catch(a){}})})(jQuery);

//# sourceMappingURL=wstb.edit.min.js.map