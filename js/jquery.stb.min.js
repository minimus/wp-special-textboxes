'use strict';var _typeof='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&'function'==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?'symbol':typeof a};(function(a){function b(a,b){return r(Math.random()*(b-a+1))+a}function d(){if(d.history=d.history||[],d.history.push(arguments),'object'===('undefined'==typeof console?'undefined':_typeof(console))){var b,a=console[console.warn?'warn':'log'],c=Array.prototype.slice.call(arguments);'string'==typeof arguments[0]&&(c[0]='qTip2: '+c[0]),b=a.apply?a.apply(console,c):a(c)}}function c(a,c){var d=a.replace('#',''),e=parseInt('0x'+d.slice(0,2)),f=parseInt('0x'+d.slice(2,4)),g=parseInt('0x'+d.slice(4,6));return'rgba('+e.toString()+','+f.toString()+','+g.toString()+','+c+')'}function f(b){var c;b||(b=window.event),b.target?c=b.target:b.srcElement&&(c=b.srcElement),3===c.nodeType&&(c=c.parentNode);var d=b.pageX-a(c).offset().left,e=b.pageY-a(c).offset().top;return{x:d,y:e}}function e(b,c){var d={},e={},f={};return'undefined'==typeof c?f=t:'object'===('undefined'==typeof c?'undefined':_typeof(c))&&null!==c?(f=t,a.extend(!0,e,f,c),f=e):f=t,'string'==typeof b?-1===v.getIndex(b)?a.extend(!0,d,v.getTheme('warning'),f):a.extend(!0,d,v.getTheme(b),f):'object'===('undefined'==typeof b?'undefined':_typeof(b))&&null!==b?a.extend(!0,d,v.getTheme('warning'),f,b):a.extend(!0,d,v.getTheme('warning'),f),d}function g(b,c,d,e,f){var g=e.mtop,h=d-e.mbottom,i=e.mleft,j=c-e.mright;'undefined'==typeof f&&(f=0),b.fillStyle='rgba(255,255,255,1)';var k=b.createLinearGradient(i,g,i,h);if(k.addColorStop(0,e.color),k.addColorStop(0.4,e.color),k.addColorStop(1,e.colorTo),e.shadow.enabled&&(b.shadowColor=e.shadow.color,b.shadowBlur=e.shadow.blur,b.shadowOffsetX=e.shadow.offsetX,b.shadowOffsetY=e.shadow.offsetY),b.beginPath(),b.moveTo(i,g+e.radius),b.lineTo(i,h-e.radius),b.quadraticCurveTo(i,h,i+e.radius,h),b.lineTo(j-e.radius,h),b.quadraticCurveTo(j,h,j,h-e.radius),b.lineTo(j,g+e.radius),b.quadraticCurveTo(j,g,j-e.radius,g),b.lineTo(i+e.radius,g),b.quadraticCurveTo(i,g,i,g+e.radius),b.closePath(),b.fillStyle=k,b.fill(),e.shadow.enabled&&(b.shadowColor='transparent'),''!==e.caption.text){var n=b.createLinearGradient(i,g,i,g+30);n.addColorStop(0,e.caption.color),n.addColorStop(0.5,e.caption.color),n.addColorStop(1,e.caption.colorTo),b.beginPath(),b.moveTo(i,g+e.radius),f?(b.lineTo(i,h-e.radius),b.quadraticCurveTo(i,h,i+e.radius,h),b.lineTo(j-e.radius,h),b.quadraticCurveTo(j,h,j,h-e.radius)):(b.lineTo(i,g+30),b.lineTo(j,g+30)),b.lineTo(j,g+e.radius),b.quadraticCurveTo(j,g,j-e.radius,g),b.lineTo(i+e.radius,g),b.quadraticCurveTo(i,g,i,g+e.radius),b.closePath(),b.fillStyle=n,b.fill()}else if(e.caption.side){var o=b.createLinearGradient(i,g,i,h);o.addColorStop(0,e.caption.color),o.addColorStop(0.4,e.caption.color),o.addColorStop(1,e.caption.colorTo),b.beginPath(),'ltr'===e.direction?(b.moveTo(i,g+e.radius),b.lineTo(i,h-e.radius),b.quadraticCurveTo(i,h,i+e.radius,h),b.lineTo(i+2*e.imgX+50,h),b.lineTo(i+2*e.imgX+50,g),b.lineTo(i+e.radius,g),b.quadraticCurveTo(i,g,i,g+e.radius)):(b.moveTo(j-(2*e.imgX+50),g),b.lineTo(j-(2*e.imgX+50),h),b.lineTo(j-e.radius,h),b.quadraticCurveTo(j,h,j,h-e.radius),b.lineTo(j,g+e.radius),b.quadraticCurveTo(j,g,j-e.radius,g),b.lineTo(j-(2*e.imgX+50),g)),b.closePath(),b.fillStyle=o,b.fill()}var l=null===e.image?10:35,m='ltr'===e.direction?l+e.mleft:c-l-e.mright;if(b.textAlign='ltr'===e.direction?'left':'right',b.textBaseline='middle',b.fillStyle=e.caption.fontColor,b.font='bold '+e.caption.fontSize+'px '+e.caption.fontFamily,a.browser.safari){var p=e.caption.fontSize,q=b.measureText(e.caption.text).width;q>c-80-e.mleft-e.mright&&(p=r(p*((c-80-e.mleft-e.mright)/q)),b.font=p+'px '+e.caption.fontFamily),b.fillText(e.caption.text,m,g+15)}else 150<c&&b.fillText(e.caption.text,m,g+15,c-75-e.mleft-e.mright)}function h(a,b,d,e){for(var f=e.mtop,g=d-e.mbottom,h=e.mleft,j=b-e.mright,k=e.border.width,l=0.7,m=0;m<k;m++)a.beginPath(),a.moveTo(h+m,f+e.radius+m),a.lineTo(h+m,g-e.radius-m),a.quadraticCurveTo(h+m,g-m,h+e.radius+m,g-m),a.lineTo(j-e.radius-m,g-m),a.quadraticCurveTo(j-m,g-m,j-m,g-e.radius-m),a.lineTo(j-m,f+e.radius+m),a.quadraticCurveTo(j-m,f+m,j-e.radius-m,f+m),a.lineTo(h+e.radius+m,f+m),a.quadraticCurveTo(h+m,f+m,h+m,f+e.radius+m),a.closePath(),a.strokeStyle=c(e.border.color,l),a.stroke(),l-=1/k,0>l&&(l=0)}function i(a,b,c,d){d.complete&&null!==c.image&&b.drawImage(d,'ltr'===c.direction?c.imgX+c.mleft:a.width-c.imgX-50-c.mright,c.imgY+c.mtop,50,50)}function j(a,b,c,d,e,f,g,h){d.complete&&null!==c.image&&('all'===g||'main'===g)&&b.drawImage(d,'ltr'===c.direction?7+c.mleft:a.width-c.mright-7-25,c.mtop+3,25,25),c.caption.collapsing&&e.complete&&f.complete&&('all'===g||'tool'===g)&&b.drawImage(h?f:e,'ltr'===c.direction?a.width-c.mright-7-16:c.mleft+7,c.mtop+7,16,16)}function k(a,b,c){var d=u[a].options,e=u[a].container.cvs,f=u[a].container.ctx,g=u[a].image,h=u[a].imgMinus,k=u[a].imgPlus;'undefined'==typeof b&&(b='all'),'undefined'==typeof c&&(c=d.caption.collapsed),''===d.caption.text?i(e,f,d,g):j(e,f,d,g,h,k,b,c)}function l(a,b,c){var d=u[a].options,e=u[a].container.cvs,f=u[a].container.ctx,i=u[a].image;'undefined'==typeof c&&(c=e.height),e.height=b?d.mtop+30+d.mbottom:c,f.clearRect(0,0,e.width,e.height),g(f,e.width,e.height,d,b),k(a,'all',b),0<d.border.width&&h(f,e.width,e.height,d)}function m(a,b,c){var d=a.getContext('2d');d.clearRect(0,0,a.width,a.height),g(d,a.width,a.height,b),i(a,d,b,c),0<b.border.width&&h(d,a.width,a.height,b)}function n(a,b,c,d,e,f){var i=a.getContext('2d');i.clearRect(0,0,a.width,a.height),g(i,a.width,a.height,b,f),j(a,i,b,c,d,e,'all',f),0<b.border.width&&h(i,a.width,a.height,b)}function o(b,c){if(b){var d=b.container.cvs,e=b.container.cnt,f=b.options,g=b.container.body,h=a(e).parent(0).width(),i=a(g).innerHeight(),j=b.options.caption;(c||d.width!==h||d.height!==i+f.mtop+f.mbottom)&&(d.width=h,''===j.text?(d.height=f.mtop+i+f.mbottom,m(d,f,b.image,b.image.complete)):(d.height=f.mtop+30+(j.collapsed?0:i)+f.mbottom,n(d,f,b.image,b.imgMinus,b.imgPlus,j.collapsed)))}}function p(b){0<u.length&&a.each(u,function(a,c){o(c,b)})}function q(a,b,c,d){this.container=a,this.options=b,this.caption=c,this.isDrawing=!1,this.index=d,this.image=new Image,this.imgMinus=new Image,this.imgPlus=new Image}var r=Math.floor,s={alert:{image:'alert-b.png',color:'#fdcbc9',colorTo:'#fb7d78',fontColor:'#000000',border:{width:5,color:'#f9574f'},caption:{fontColor:'#ffffff',color:'#1d1a1a',colorTo:'#504848'}},black:{image:'earth-b.png',color:'#3b3b3b',colorTo:'#000000',fontColor:'#ffffff',border:{width:0,color:'#535353'},caption:{fontColor:'#ffffff',color:'#1d1a1a',colorTo:'#504848'}},download:{image:'download-b.png',color:'#78c0f7',colorTo:'#2e7cb9',fontColor:'#000000',border:{width:5,color:'#15609a'},caption:{fontColor:'#ffffff',color:'#1d1a1a',colorTo:'#504848'}},info:{image:'info-b.png',color:'#a1ea94',colorTo:'#79b06e',fontColor:'#000000',border:{width:0,color:'#6c9c62'},caption:{fontColor:'#ffffff',color:'#1d1a1a',colorTo:'#504848'}},warning:{image:'warning-2-b.png',color:'#f8fc91',colorTo:'#f0d208',fontColor:'#000000',border:{width:0,color:'#d9be08'},caption:{fontColor:'#ffffff',color:'#1d1a1a',colorTo:'#504848'}}},t={caption:{text:'',fontFamily:'Impact, Verdana',fontSize:12,collapsed:!1,collapsing:!0,imgMinus:'minus.png',imgPlus:'plus.png',duration:500,side:!0},imgX:5,imgY:10,radius:10,direction:'ltr',mtop:10,mright:10,mbottom:10,mleft:10,safe:!1,shadow:{enabled:!0,offsetX:7,offsetY:7,blur:5,alpha:0.15,color:'#000000'},textShadow:{enabled:!0,offsetX:1,offsetY:1,blur:3,alpha:0.15,color:'#000000'},handlers:[{hClass:'a[id^=tabs]',hEvent:'click'},{hClass:'li[id^=tabs]',hEvent:'click'}]},u=[],v=window.stbThemes=new function(){this.themes=[],this.getIndex=function(b){var c=-1;return a.each(this.themes,function(a,d){return d.name!==b||(c=a,!1)}),c},this.getTheme=function(a){return this.themes[this.getIndex(a)]},this.register=function(a,b){this.themes.push(b),this.themes[this.themes.length-1].name=a},this.update=function(b,c){a.extend(!0,this.themes[this.getIndex(b)],c)}};v.register('alert',s.alert),v.register('black',s.black),v.register('download',s.download),v.register('info',s.info),v.register('warning',s.warning),jQuery.fn.extend({stb:function stb(c,g){var h=e(c,g);return this.each(function(){var c,e,g,i,j,m,n={},o=a(this).attr('id'),p=a(this).data('stb'),r=a(this).css('line-height');try{c='string'==typeof p?new Function('return '+p)():p,'object'===('undefined'==typeof c?'undefined':_typeof(c))?a.extend(!0,n,h,c):n=h}catch(a){d('Unable to parse HTML5 attribute data: '+p)}var s=n.caption.side?50+2*n.imgX+10+'px':'50px',t={boxSizing:'content-box',lineHeight:r,direction:n.direction,unicodeBidi:'embed',color:n.fontColor,position:'absolute',top:'0px',zIndex:4,margin:n.mtop+'px '+n.mright+'px '+n.mbottom+'px '+n.mleft+'px',paddingRight:null===n.image?'10px':'ltr'===n.direction?'10px':s,paddingBottom:'10px',paddingTop:'10px',paddingLeft:null===n.image?'10px':'ltr'===n.direction?s:'10px',minHeight:'40px',textShadow:n.textShadow.enabled?n.textShadow.color+' '+n.textShadow.offsetX+'px '+n.textShadow.offsetY+'px '+n.textShadow.blur+'px':'none'},v={boxSizing:'content-box',lineHeight:r,direction:n.direction,unicodeBidi:'embed',position:'absolute',top:30+n.mtop,color:n.fontColor,padding:'5px 10px 10px',minHeight:'5px',margin:'0px '+n.mright+'px '+n.mbottom+'px '+n.mleft+'px',zIndex:4,textShadow:n.textShadow.enabled?n.textShadow.color+' '+n.textShadow.offsetX+'px '+n.textShadow.offsetY+'px '+n.textShadow.blur+'px':'none'};'undefined'==typeof o&&(o='stb_js_'+b(1e3,9999),a(this).attr('id',o));var w='#'+o+'_canvas';if(''===n.caption.text)a(this).css(t),a(this).wrap('<div id="'+o+'_container" class="stb-container"></div>'),a('#'+o+'_container').css({direction:n.direction,position:'relative',boxSizing:'content-box'}),a(this).before('<canvas id="'+o+'_canvas" class="stb-canvas" width="0" height="0" ></canvas>'),a(w).css({position:'relative',top:0,left:0,boxSizing:'content-box'}),e=a(w).get(0),g=e.getContext('2d'),i=a(this).get(0),j=a(this),m=new q({cnt:i,cvs:e,ctx:g,body:j},n,n.caption,u.length);else{a(this).css(v).wrap('<div id="'+o+'_container" class="stb-container" style="line-height: 0.1em;"></div>'),a('#'+o+'_container').css({direction:n.direction,position:'relative',boxSizing:'content-box'}),a(this).before('<canvas id="'+o+'_canvas" class="stb-canvas" width="0" height="0" ></canvas>'),a(w).css({position:'relative',left:0,boxSizing:'content-box'});a('body').css('direction');n.safe&&a(w).css({position:'relative',top:0,left:0}),e=a(w).get(0),g=e.getContext('2d'),i=a(this).get(0),j=a(this),m=new q({cnt:i,cvs:e,ctx:g,body:j},n,n.caption,u.length),n.caption.collapsing&&a(w).click(function(b){var c=f(b);if(c.x>n.mleft&&c.x<a(this).width()-n.mright&&c.y>n.mtop&&c.y<n.mtop+30){var d=a(this).attr('id'),e='#'+d.replace('_canvas',''),g=a(e).data('stb_props');a(e).is(':hidden')?(l(g.index,!1),a(e).slideDown({duration:g.caption.duration,progress:function progress(){var b=a(this).innerHeight()+30+n.mtop+n.mbottom;l(g.index,!1,b)},done:function done(){var b=a(e).data('stb_props');b.caption.collapsed=!1,u[b.index].caption.collapsed=!1,a(e).data('stb_props',b),l(b.index,!1)}})):a(e).slideUp({duration:g.caption.duration,progress:function progress(){var b=a(this).innerHeight()+30+n.mtop+n.mbottom;l(g.index,!1,b)},done:function done(){var b=a(e).data('stb_props');b.caption.collapsed=!0,u[b.index].caption.collapsed=!0,a(e).data('stb_props',b),l(b.index,!0)}})}})}u.push(m),a.data(u[u.length-1].image,'itemIndex',u.length-1),a.data(u[u.length-1].imgMinus,'itemIndex',u.length-1),a.data(u[u.length-1].imgPlus,'itemIndex',u.length-1),null!==u[u.length-1].options.image&&(u[u.length-1].image.onload=function(){var b=a.data(this,'itemIndex');k(b,'main')},u[u.length-1].image.src=u[u.length-1].options.image),u[u.length-1].imgMinus.onload=function(){var b=a.data(this,'itemIndex');k(b,'tool')},u[u.length-1].imgMinus.src=u[u.length-1].options.caption.imgMinus,u[u.length-1].imgPlus.onload=function(){var b=a.data(this,'itemIndex');k(b,'tool')},u[u.length-1].imgPlus.src=u[u.length-1].options.caption.imgPlus,a(this).data('stb_props',m).addClass('stb-body'),n.caption.collapsed&&''!==n.caption.text&&a(this).hide()}),p(!0),!1},stbRedraw:function stbRedraw(){this.each(function(){var b=a(this).data('stb_props');o(b,!0)})}}),a(window).resize(function(){return p(!0),!1})})(jQuery);

//# sourceMappingURL=jquery.stb.min.js.map