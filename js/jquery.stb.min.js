/**
 * @name Special Text Boxes
 * @author minimus
 * @copyright 2009 - 2013
 * @version 4.4.75
 */
(function(e){function i(e,t){return Math.floor(Math.random()*(t-e+1))+e}function s(){s.history=s.history||[];s.history.push(arguments);if("object"===typeof console){var e=console[console.warn?"warn":"log"],t=Array.prototype.slice.call(arguments),n;if(typeof arguments[0]==="string"){t[0]="qTip2: "+t[0]}n=e.apply?e.apply(console,t):e(t)}}function o(){this.themes=[];this.getIndex=function(t){var n=-1;e.each(this.themes,function(e,r){if(r.name==t){n=e;return false}else return true});return n};this.getTheme=function(e){return this.themes[this.getIndex(e)]};this.register=function(e,t){this.themes.push(t);this.themes[this.themes.length-1].name=e};this.update=function(t,n){var r;e.extend(true,this.themes[this.getIndex(t)],n)}}function u(e){var t=e.replace("#","");var n=parseInt("0x"+t.slice(0,2));var r=parseInt("0x"+t.slice(2,4));var i=parseInt("0x"+t.slice(4,6));return n.toString()+","+r.toString()+","+i.toString()}function a(t,r){var i={},s={},o={};if(typeof r=="undefined"){o=n}else if(typeof r=="object"&&null!=r){o=n;e.extend(true,s,o,r);o=s}else o=n;if(typeof t=="string"){if(-1==stbThemes.getIndex(t))e.extend(true,i,stbThemes.getTheme("warning"),o);else e.extend(true,i,stbThemes.getTheme(t),o)}else if(typeof t=="object"&&null!=t){e.extend(true,i,stbThemes.getTheme("warning"),o,t)}else e.extend(true,i,stbThemes.getTheme("warning"),o);return i}function f(e,t,n,r){var i=r.shadow.blur,s=r.shadow.offsetX,o=r.shadow.offsetY;for(var a=1;a<i;a++){e.fillStyle="rgba("+u(r.shadow.color)+", "+r.shadow.alpha+")";e.beginPath();e.moveTo(a+s,r.radius+o);e.lineTo(a+s,n-r.radius);e.quadraticCurveTo(a+s,n-a,r.radius+s,n-a);e.lineTo(t-r.radius,n-a);e.quadraticCurveTo(t-a,n-a,t-a,n-r.radius);e.lineTo(t-a,r.radius+o);e.quadraticCurveTo(t-a,a+o,t-r.radius,a+o);e.lineTo(r.radius+s+a,a+o);e.quadraticCurveTo(a+s,a+o,a+s,r.radius+o);e.closePath();e.fill()}}function l(e,t,n,r){n-=r.shadow.offsetY;t-=r.shadow.offsetX;e.fillStyle="rgba(255,255,255,1)";var i=e.createLinearGradient(0,0,0,n);i.addColorStop(0,r.color);i.addColorStop(.4,r.color);i.addColorStop(1,r.colorTo);e.beginPath();e.moveTo(0,r.radius);e.lineTo(0,n-r.radius);e.quadraticCurveTo(0,n,r.radius,n);e.lineTo(t-r.radius,n);e.quadraticCurveTo(t,n,t,n-r.radius);e.lineTo(t,r.radius);e.quadraticCurveTo(t,0,t-r.radius,0);e.lineTo(r.radius,0);e.quadraticCurveTo(0,0,0,r.radius);e.closePath();e.fillStyle=i;e.fill()}function c(e,t,n,r,i){var s=r.shadow.blur,o=r.shadow.offsetX,a=r.shadow.offsetY;for(var f=1;f<s;f++){e.fillStyle="rgba("+u(r.shadow.color)+", "+r.shadow.alpha+")";e.beginPath();e.moveTo(f+o,r.radius+a);if(i){e.lineTo(f+o,n-r.radius);e.quadraticCurveTo(f+o,n-f,r.radius+o,n-f);e.lineTo(t-r.radius-1,n-f);e.quadraticCurveTo(t-f,n-f,t-f,n-r.radius)}else{e.lineTo(f+o,n);e.lineTo(t-f,n)}e.lineTo(t-f,r.radius+a);e.quadraticCurveTo(t-f,f+a,t-r.radius,f+a);e.lineTo(r.radius+o+f,f+a);e.quadraticCurveTo(f+o,f+a,f+o,r.radius+a);e.closePath();e.fill()}}function h(e,t,n,r,i,s,o,a){var f=o.shadow.blur,l=o.shadow.offsetX,h=0;c(t,i,s,o,a);for(var p=1;p<f;p++){e.fillStyle="rgba("+u(o.shadow.color)+", "+o.shadow.alpha+")";e.beginPath();e.moveTo(p+l,h);e.lineTo(p+l,r-o.radius);e.quadraticCurveTo(p+l,r-p,o.radius+l,r-p);e.lineTo(n-o.radius,r-p);e.quadraticCurveTo(n-p,r-p,n-p,r-o.radius);e.lineTo(n-p,h);e.lineTo(l+p,h);e.closePath();e.fill()}}function p(t,n,r,i,s){if(s)r-=i.shadow.offsetY;n-=i.shadow.offsetX;var o=null!=i.image?35:10,u=i.direction=="ltr"?o:n-o;t.fillStyle="rgba(255,255,255,1)";var a=t.createLinearGradient(0,0,0,r);a.addColorStop(0,i.caption.color);a.addColorStop(.4,i.caption.color);a.addColorStop(1,i.caption.colorTo);t.beginPath();t.moveTo(0,i.radius);if(s){t.lineTo(0,r-i.radius);t.quadraticCurveTo(0,r,i.radius,r);t.lineTo(n-i.radius,r);t.quadraticCurveTo(n,r,n,r-i.radius)}else{t.lineTo(0,r);t.lineTo(n,r)}t.lineTo(n,i.radius);t.quadraticCurveTo(n,0,n-i.radius,0);t.lineTo(i.radius,0);t.quadraticCurveTo(0,0,0,i.radius);t.closePath();t.fillStyle=a;t.fill();t.textAlign=i.direction=="ltr"?"left":"right";t.textBaseline="middle";t.fillStyle=i.caption.fontColor;t.font=i.caption.fontSize+"px "+i.caption.fontFamily;if(e.browser.safari){var f=i.caption.fontSize,l=t.measureText(i.caption.text).width;if(l>n-80){f=Math.floor(f*((n-80)/l));t.font=f+"px "+i.caption.fontFamily}t.fillText(i.caption.text,u,r/2)}else if(n>150)t.fillText(i.caption.text,u,r/2,n-75)}function d(e,t,n,r,i,s,o,u){r-=o.shadow.offsetY;n-=o.shadow.offsetX;p(t,i,s,o,u);e.fillStyle="rgba(255,255,255,1)";var a=e.createLinearGradient(0,0,0,r);a.addColorStop(0,o.color);a.addColorStop(.4,o.color);a.addColorStop(1,o.colorTo);e.beginPath();e.moveTo(0,0);e.lineTo(0,r-o.radius);e.quadraticCurveTo(0,r,o.radius,r);e.lineTo(n-o.radius,r);e.quadraticCurveTo(n,r,n,r-o.radius);e.lineTo(n,0);e.lineTo(0,0);e.closePath();e.fillStyle=a;e.fill()}function v(e,t,n,r){n-=r.shadow.offsetY;t-=r.shadow.offsetX;var i=r.border.width;var s=.7;for(var o=2;o<i;o++){e.beginPath();e.moveTo(o,r.radius+o);e.lineTo(o,n-r.radius-o);e.quadraticCurveTo(o,n-o,r.radius+o,n-o);e.lineTo(t-r.radius-o,n-o);e.quadraticCurveTo(t-o,n-o,t-o,n-r.radius-o);e.lineTo(t-o,r.radius+o);e.quadraticCurveTo(t-o,o,t-r.radius-o,o);e.lineTo(r.radius+o,o);e.quadraticCurveTo(o,o,o,r.radius+o);e.closePath();e.strokeStyle="rgba("+u(r.border.color)+","+s+")";e.stroke();s-=1/i;if(s<0)s=0}}function m(e,t,n,r){if(r.complete&&null!=n.image)t.drawImage(r,n.direction=="ltr"?n.imgX:e.width-n.shadow.offsetX-n.imgX-50,n.imgY,50,50)}function g(e,t,n,r,i,s,o,u){if(r.complete&&null!=n.image&&(o=="all"||o=="main")){t.drawImage(r,n.direction=="ltr"?n.imgX:e.width-n.shadow.offsetX-n.imgX-25,(u?e.height-n.shadow.offsetX:e.height)/2-12,25,25)}if(n.caption.collapsing&&i.complete&&s.complete&&(o=="all"||o=="tool")){t.drawImage(u?s:i,n.direction=="ltr"?e.width-n.shadow.offsetX-n.imgX*2-16:n.imgX*2,(u?e.height-n.shadow.offsetX:e.height)/2-8,16,16)}}function y(e,t,n){var i=r[e].options,s=i.caption.text!=""?r[e].container.ccvs:r[e].container.cvs,o=i.caption.text!=""?r[e].container.cctx:r[e].container.ctx,u=r[e].image,a=r[e].imgMinus,f=r[e].imgPlus;if(typeof t=="undefined")t="all";if(typeof n=="undefined")n=i.caption.collapsed;i.caption.text!=""?g(s,o,i,u,a,f,t,n):m(s,o,i,u)}function b(e,t){var n=r[e].options,i=r[e].container.ccvs,s=r[e].container.cctx,o=r[e].image;i.height=t?30+n.shadow.offsetY:30;s.clearRect(0,0,i.width,i.height);if(n.shadow.enabled)c(s,i.width,i.height,n,t);p(s,i.width,i.height,n,t);y(e,"all",t)}function w(e,t,n,r){var i=e.getContext("2d");i.clearRect(0,0,e.width,e.height);if(t.shadow.enabled)f(i,e.width,e.height,t);l(i,e.width,e.height,t);m(e,i,t,n);if(t.border.width>0)v(i,e.width,e.height,t)}function E(e,t,n,r,i,s,o){var u=e.getContext("2d");var a=t.getContext("2d");u.clearRect(0,0,e.width,e.height);a.clearRect(0,0,t.width,t.height);if(n.shadow.enabled)h(u,a,e.width,e.height,t.width,t.height,n,o);d(u,a,e.width,e.height,t.width,t.height,n,o);g(t,a,n,r,i,s,"all",o)}function S(t,n){if(!t)return;var r=t.container.cvs,i=t.container.cnt,s=t.options,o=e(i).parent(0).width(),u=e(i).outerHeight(),a=t.options.caption;if(n||r.width!=o||r.height!=u+s.shadow.offsetY+20){r.width=o;if(a.text==""){r.height=u+s.shadow.offsetY+20;w(r,s,t.image,t.image.complete)}else{var f=t.container.ccvs;r.height=u+s.shadow.offsetY+10;f.width=o;f.height=30;if(a.collapsed)f.height+=s.shadow.offsetY;E(r,f,s,t.image,t.imgMinus,t.imgPlus,a.collapsed)}}}function x(t){if(r.length>0)e.each(r,function(e,n){S(n,t)})}function T(e,t,n,r){this.container=e;this.options=t;this.caption=n;this.isDrawing=false;this.index=r;this.image=new Image;this.imgMinus=new Image;this.imgPlus=new Image}var t={alert:{image:"alert-b.png",color:"#fdcbc9",colorTo:"#fb7d78",fontColor:"#000000",border:{width:5,color:"#f9574f"},caption:{fontColor:"#ffffff",color:"#1d1a1a",colorTo:"#504848"}},black:{image:"earth-b.png",color:"#3b3b3b",colorTo:"#000000",fontColor:"#ffffff",border:{width:0,color:"#535353"},caption:{fontColor:"#ffffff",color:"#1d1a1a",colorTo:"#504848"}},download:{image:"download-b.png",color:"#78c0f7",colorTo:"#2e7cb9",fontColor:"#000000",border:{width:5,color:"#15609a"},caption:{fontColor:"#ffffff",color:"#1d1a1a",colorTo:"#504848"}},info:{image:"info-b.png",color:"#a1ea94",colorTo:"#79b06e",fontColor:"#000000",border:{width:0,color:"#6c9c62"},caption:{fontColor:"#ffffff",color:"#1d1a1a",colorTo:"#504848"}},warning:{image:"warning-2-b.png",color:"#f8fc91",colorTo:"#f0d208",fontColor:"#000000",border:{width:0,color:"#d9be08"},caption:{fontColor:"#ffffff",color:"#1d1a1a",colorTo:"#504848"}}},n={caption:{text:"",fontFamily:"Impact, Verdana",fontSize:12,collapsed:false,collapsing:true,imgMinus:"minus.png",imgPlus:"plus.png",duration:500},imgX:5,imgY:10,radius:10,direction:"ltr",mtop:10,mright:10,mbottom:10,mleft:10,safe:false,shadow:{enabled:true,offsetX:7,offsetY:7,blur:5,alpha:.15,color:"#000000"},textShadow:{enabled:true,offsetX:1,offsetY:1,blur:3,alpha:.15,color:"#000000"},handlers:[{hClass:"a[id^=tabs]",hEvent:"click"},{hClass:"li[id^=tabs]",hEvent:"click"}]},r=[];stbThemes=new o;stbThemes.register("alert",t.alert);stbThemes.register("black",t.black);stbThemes.register("download",t.download);stbThemes.register("info",t.info);stbThemes.register("warning",t.warning);jQuery.fn.extend({stb:function(t,n){var o=a(t,n);this.each(function(){var t={},n,u=e(this).attr("id"),a=e(this).data("stb"),f=null;try{n=typeof a==="string"?(new Function("return "+a))():a;if(typeof n==="object")e.extend(true,t,o,n);else t=o}catch(l){s("Unable to parse HTML5 attribute data: "+a)}var c=t.lineHeight;var h={direction:t.direction,"unicode-bidi":"embed",color:t.fontColor,position:"absolute",top:"0px","z-index":4,"padding-right":t.image==null?"5px":t.direction=="ltr"?"5px":"50px","padding-bottom":"5px","padding-top":"5px","padding-left":t.image==null?"5px":t.direction=="ltr"?"50px":"5px","min-height":"40px","margin-top":t.mtop+"px","margin-right":t.mright+t.shadow.offsetX+"px","margin-bottom":t.mbottom+"px","margin-left":t.mleft+"px","box-sizing":"content-box","line-height":c,"text-shadow":t.textShadow.enabled?t.textShadow.color+" "+t.textShadow.offsetX+"px "+t.textShadow.offsetY+"px "+t.textShadow.blur+"px":"none"},p={direction:t.direction,"unicode-bidi":"embed",position:"absolute",top:"30px",color:t.fontColor,padding:"5px 5px 5px 5px","min-height":"5px","margin-top":"0px","margin-right":t.mright+t.shadow.offsetX+"px","margin-bottom":t.mbottom+"px","margin-left":t.mleft+"px","box-sizing":"content-box","z-index":4,"line-height":c,"text-shadow":t.textShadow.enabled?t.textShadow.color+" "+t.textShadow.offsetX+"px "+t.textShadow.offsetY+"px "+t.textShadow.blur+"px":"none"};if(typeof u=="undefined"){u="stb_js_"+i(1e3,9999);e(this).attr("id",u)}if(t.caption.text==""){e(this).css(h).wrap('<div id="'+u+'_container" class="stb-container"></div>');e("#"+u+"_container").css({direction:t.direction,"margin-top":t.mtop+"px","margin-right":t.mright+"px","margin-bottom":t.mbottom+"px","margin-left":t.mleft+"px",position:"relative","box-sizing":"content-box"});e(this).before('<canvas id="'+u+'_canvas" class="stb-canvas" width="0" height="0" ></canvas>');e("#"+u+"_canvas").css({position:"relative",top:"0px",left:"0px","box-sizing":"content-box"});var d=e("#"+u+"_canvas").get(0),v=d.getContext("2d"),m=e(this).get(0),g=new T({cnt:m,cvs:d,ctx:v},t,t.caption,r.length)}else{e(this).css(p).wrap('<div id="'+u+'_container" class="stb-container"></div>');e("#"+u+"_container").css({direction:t.direction,"margin-top":t.mtop+"px","margin-right":t.mright+"px","margin-bottom":t.mbottom+"px","margin-left":t.mleft+"px",position:"relative","box-sizing":"content-box"});e(this).before('<canvas id="'+u+'_ccanvas" class="stb-ccanvas" width="0" height="0" ></canvas>');e("#"+u+"_ccanvas").css({"box-sizing":"content-box"});e(this).before('<canvas id="'+u+'_canvas" class="stb-canvas" width="0" height="0" ></canvas>');e("#"+u+"_canvas").css({position:"relative",left:"0px","box-sizing":"content-box"});var w=e("body").css("direction");if(w!=t.direction)e("#"+u+"_ccanvas").attr("dir",t.direction).css({"unicode-bidi":"bidi-override"});if(t.safe){e("#"+u+"_canvas").css({position:"relative",top:"0px",left:"0px"})}var d=e("#"+u+"_canvas").get(0),v=d.getContext("2d"),E=e("#"+u+"_ccanvas").get(0),S=E.getContext("2d"),m=e(this).get(0),g=new T({cnt:m,cvs:d,ctx:v,ccvs:E,cctx:S},t,t.caption,r.length);if(t.caption.collapsing){e("#"+u+"_ccanvas").click(function(){var t=e(this).attr("id"),n="#"+t.replace("_ccanvas",""),i=n+"_canvas",s=e(n).data("stb_props");if(e(n).is(":hidden")){b(s.index,false);e(n).effect("blind",{mode:"show",direction:"vertical"},s.caption.duration,function(){var t=e(n).data("stb_props");t.caption.collapsed=false;r[t.index].caption.collapsed=false;e(n).data("stb_props",t)})}else{e(n).effect("blind",{mode:"hide",direction:"vertical"},s.caption.duration,function(){var t=e(n).data("stb_props");t.caption.collapsed=true;r[t.index].caption.collapsed=true;e(n).data("stb_props",t);b(t.index,true)})}if(e(i).is(":hidden"))e(i).effect("blind",{mode:"show",direction:"vertical"},s.caption.duration);else e(i).effect("blind",{mode:"hide",direction:"vertical"},s.caption.duration)})}}r.push(g);e.data(r[r.length-1].image,"itemIndex",r.length-1);e.data(r[r.length-1].imgMinus,"itemIndex",r.length-1);e.data(r[r.length-1].imgPlus,"itemIndex",r.length-1);r[r.length-1].image.onload=function(){var t=e.data(this,"itemIndex");y(t,"main")};r[r.length-1].image.src=r[r.length-1].options.image;r[r.length-1].imgMinus.onload=function(){var t=e.data(this,"itemIndex");y(t,"tool")};r[r.length-1].imgMinus.src=r[r.length-1].options.caption.imgMinus;r[r.length-1].imgPlus.onload=function(){var t=e.data(this,"itemIndex");y(t,"tool")};r[r.length-1].imgPlus.src=r[r.length-1].options.caption.imgPlus;e(this).data("stb_props",g).addClass("stb-body");if(t.caption.collapsed){e(this).hide();e("#"+u+"_canvas").hide()}});x(true);return false},stbRedraw:function(){this.each(function(){var t=e(this).data("stb_props");S(t,true)})}});e(window).resize(function(){x(true);return false})})(jQuery)